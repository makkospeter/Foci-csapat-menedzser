<Window x:Class="Foci_csapat_menedzser.PlayerEditorWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Játékos Szerkesztése" Height="650" Width="800"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResize">

    <Window.Resources>
        <Style x:Key="InputGroupStyle" TargetType="StackPanel">
            <Setter Property="Margin" Value="0,10,0,0"/>
        </Style>

        <Style x:Key="LabelStyle" TargetType="TextBlock">
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Width" Value="120"/>
        </Style>
    </Window.Resources>

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TextBlock Grid.Row="0" Text="Játékos Adatainak Szerkesztése" 
                   FontSize="20" FontWeight="Bold" Margin="0,0,0,20"/>

        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Margin="0,0,10,0">
                    <GroupBox Header="Alap információk" FontWeight="SemiBold">
                        <StackPanel Margin="10">
                            <StackPanel Orientation="Horizontal" Style="{StaticResource InputGroupStyle}">
                                <TextBlock Text="Név:" Style="{StaticResource LabelStyle}"/>
                                <TextBox x:Name="NameTextBox" Width="200" Height="25"/>
                            </StackPanel>

                            <StackPanel Orientation="Horizontal" Style="{StaticResource InputGroupStyle}">
                                <TextBlock Text="Mezszám:" Style="{StaticResource LabelStyle}"/>
                                <TextBox x:Name="JerseyNumberTextBox" Width="80" Height="25"/>
                            </StackPanel>

                            <StackPanel Orientation="Horizontal" Style="{StaticResource InputGroupStyle}">
                                <TextBlock Text="Születési dátum:" Style="{StaticResource LabelStyle}"/>
                                <DatePicker x:Name="BirthDatePicker" Width="150"/>
                            </StackPanel>

                            <StackPanel Orientation="Horizontal" Style="{StaticResource InputGroupStyle}">
                                <TextBlock Text="Magasság (cm):" Style="{StaticResource LabelStyle}"/>
                                <TextBox x:Name="HeightTextBox" Width="80" Height="25"/>
                            </StackPanel>
                        </StackPanel>
                    </GroupBox>

                    <GroupBox Header="Játékosi adatok" FontWeight="SemiBold" Margin="0,15,0,0">
                        <StackPanel Margin="10">
                            <StackPanel Orientation="Horizontal" Style="{StaticResource InputGroupStyle}">
                                <TextBlock Text="Pozíció:" Style="{StaticResource LabelStyle}"/>
                                <ComboBox x:Name="PositionComboBox" Width="200" Height="25">
                                    <ComboBoxItem Content="Kapus"/>
                                    <ComboBoxItem Content="Szélsőhátvéd"/>
                                    <ComboBoxItem Content="Középhátvéd"/>
                                    <ComboBoxItem Content="Védekező középpályás"/>
                                    <ComboBoxItem Content="Középpályás"/>
                                    <ComboBoxItem Content="Támadó középpályás"/>
                                    <ComboBoxItem Content="Szélső"/>
                                    <ComboBoxItem Content="Csatár"/>
                                </ComboBox>
                            </StackPanel>

                            <StackPanel Orientation="Horizontal" Style="{StaticResource InputGroupStyle}">
                                <TextBlock Text="Erősebb láb:" Style="{StaticResource LabelStyle}"/>
                                <StackPanel Orientation="Horizontal">
                                    <RadioButton x:Name="LeftFootRadio" Content="Bal" GroupName="Foot" Margin="0,0,10,0"/>
                                    <RadioButton x:Name="RightFootRadio" Content="Jobb" GroupName="Foot"/>
                                </StackPanel>
                            </StackPanel>
                        </StackPanel>
                    </GroupBox>

                    <GroupBox Header="Szerződés Kezelése" FontWeight="SemiBold" Margin="0,15,0,0">
                        <StackPanel Margin="10">
                            <StackPanel Orientation="Horizontal" Style="{StaticResource InputGroupStyle}">
                                <TextBlock Text="Csatlakozás:" Style="{StaticResource LabelStyle}"/>
                                <DatePicker x:Name="JoinedTeamPicker" Width="150"/>
                            </StackPanel>

                            <StackPanel Orientation="Horizontal" Style="{StaticResource InputGroupStyle}">
                                <TextBlock Text="Szerződés vége:" Style="{StaticResource LabelStyle}"/>
                                <DatePicker x:Name="ContractEndPicker" Width="150"/>
                            </StackPanel>
                        </StackPanel>
                    </GroupBox>
                </StackPanel>

                <StackPanel Grid.Column="1" Margin="10,0,0,0">
                    <GroupBox Header="Nemzetiségek" FontWeight="SemiBold">
                        <StackPanel Margin="10">
                            <StackPanel Orientation="Horizontal" Style="{StaticResource InputGroupStyle}">
                                <TextBlock Text="Nemzetiségek:" Style="{StaticResource LabelStyle}"/>
                                <ComboBox x:Name="NationalityComboBox" Width="150" Height="25"/>
                            </StackPanel>

                            <StackPanel Orientation="Horizontal" Style="{StaticResource InputGroupStyle}">
                                <TextBlock Text="" Style="{StaticResource LabelStyle}"/>
                                <Button x:Name="AddNationalityButton" Content="Hozzáadás" 
                                        Click="AddNationalityButton_Click" Width="80" Height="25"/>
                            </StackPanel>

                            <ListBox x:Name="NationalitiesListBox" Height="100" Margin="0,10,0,0"
                                     Background="#F8F9FA">
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="{Binding}" Margin="0,0,10,0"/>
                                            <Button Content="✕" Click="RemoveNationality_Click" 
                                                    Tag="{Binding}" Background="Transparent" 
                                                    BorderThickness="0" Foreground="Red" 
                                                    FontWeight="Bold" Padding="5,0"/>
                                        </StackPanel>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>
                        </StackPanel>
                    </GroupBox>

                    <GroupBox Header="Pénzügyi adatok" FontWeight="SemiBold" Margin="0,15,0,0">
                        <StackPanel Margin="10">
                            <StackPanel Orientation="Horizontal" Style="{StaticResource InputGroupStyle}">
                                <TextBlock Text="Piaci érték (€):" Style="{StaticResource LabelStyle}"/>
                                <TextBox x:Name="MarketValueTextBox" Width="150" Height="25"/>
                            </StackPanel>
                        </StackPanel>
                    </GroupBox>

                    <GroupBox Header="Elérhetőség" FontWeight="SemiBold" Margin="0,15,0,0">
                        <StackPanel Margin="10">
                            <CheckBox x:Name="IsAvailableCheckBox" Content="Játékos elérhető" 
                                      FontWeight="SemiBold" Checked="IsAvailableCheckBox_Changed"
                                      Unchecked="IsAvailableCheckBox_Changed"/>

                            <StackPanel x:Name="UnavailablePanel" Style="{StaticResource InputGroupStyle}">
                                <StackPanel Orientation="Horizontal" Margin="0,5">
                                    <TextBlock Text="Ok:" Style="{StaticResource LabelStyle}"/>
                                    <TextBox x:Name="UnavailableReasonTextBox" Width="200" Height="60" 
                                             TextWrapping="Wrap" AcceptsReturn="True"/>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="0,5">
                                    <TextBlock Text="Visszatérés:" Style="{StaticResource LabelStyle}"/>
                                    <DatePicker x:Name="ReturnDatePicker" Width="150"/>
                                </StackPanel>
                            </StackPanel>
                        </StackPanel>
                    </GroupBox>
                </StackPanel>
            </Grid>
        </ScrollViewer>

        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
            <Button Content="Mégse" Click="CancelButton_Click" 
                    Width="80" Height="30" Margin="0,0,10,0" Background="#6C757D" Foreground="White"/>
            <Button Content="Mentés" Click="SaveButton_Click" 
                    Width="80" Height="30" Background="#28A745" Foreground="White" FontWeight="Bold"/>
        </StackPanel>
    </Grid>
</Window>